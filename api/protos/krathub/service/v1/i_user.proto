syntax = "proto3";

package krathub.service.v1;

import "google/api/annotations.proto";
import "user/service/v1/user.proto";

// User HTTP 服务 - 用于 OpenAPI 生成
service UserService {
  rpc CurrentUserInfo(user.service.v1.CurrentUserInfoRequest) returns (user.service.v1.CurrentUserInfoResponse) {
    option (google.api.http) = {get: "/v1/user/info"};
  }

  rpc ListUsers(user.service.v1.ListUsersRequest) returns (user.service.v1.ListUsersResponse) {
    option (google.api.http) = {get: "/v1/users"};
  }

  rpc UpdateUser(user.service.v1.UpdateUserRequest) returns (user.service.v1.UpdateUserResponse) {
    option (google.api.http) = {
      post: "/v1/user/update"
      body: "*"
    };
  }

  rpc SaveUser(user.service.v1.SaveUserRequest) returns (user.service.v1.SaveUserResponse) {
    option (google.api.http) = {
      post: "/v1/user/save"
      body: "*"
    };
  }

  rpc DeleteUser(user.service.v1.DeleteUserRequest) returns (user.service.v1.DeleteUserResponse) {
    option (google.api.http) = {delete: "/v1/user/delete/{id}"};
  }
}
